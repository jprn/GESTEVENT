@import url('./variables.css');
/* Base */
html,body{height:100%}
body{background:var(--color-surface);color:var(--color-text);font:400 var(--fs-14)/1.5 var(--font-family);margin:0}
a{color:var(--color-primary);text-decoration:none}
a:hover{text-decoration:underline}
*:focus{outline:2px solid var(--color-primary-50);outline-offset:2px}
.container{max-width:var(--container);margin:0 auto;padding:0 var(--space-4)}

/* Header */
.dash__header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-6) var(--space-4)}
.dash__header h1{margin:0;font-size:clamp(20px,3vw,28px)}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;background:var(--color-primary);color:#fff;border:none;border-radius:10px;padding:.6rem 1rem;cursor:pointer;text-decoration:none}
.btn:hover{filter:brightness(0.95)}
.btn--ghost{background:transparent;color:var(--color-text);border:1px solid var(--color-border-2)}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--space-4);padding-bottom:var(--space-4)}
.stat{border:1px solid var(--color-border-2);border-radius:12px;padding:var(--space-4);background:var(--color-surface-2)}
.stat__value{display:block;font-weight:700;font-size:clamp(18px,2.5vw,24px)}
.stat__label{color:var(--color-text-2)}
@media (max-width: 800px){.stats{grid-template-columns:repeat(2,1fr)}}
@media (max-width: 520px){.stats{grid-template-columns:1fr}}

/* Event cards */
.cards{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-4)}
@media (max-width: 1100px){.cards{grid-template-columns:repeat(2,1fr)}}
@media (max-width: 640px){.cards{grid-template-columns:1fr}}
.card{border:1px solid var(--color-border-2);border-radius:14px;background:var(--color-surface);padding:var(--space-4);display:flex;flex-direction:column;gap:var(--space-3);box-shadow:0 2px 10px rgba(0,0,0,.04);transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease}
.card:hover{transform:translateY(-1px);box-shadow:0 8px 30px rgba(0,0,0,.08)}
.card:focus-within{outline:2px solid var(--color-primary-40)}
.card--compact{gap:var(--space-2);padding:var(--space-4)}
.card__header{display:flex;flex-direction:column;gap:.25rem}
.card__title{margin:0;font-size:clamp(16px,2vw,18px);font-weight:700}
.card__desc{margin:0;color:var(--color-text-2);font-size:var(--fs-14)}
.card__metrics{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-3);margin-top:var(--space-2)}
.card__metrics .metric{background:var(--color-surface-2);border:1px solid var(--color-border-2);border-radius:10px;padding:var(--space-3)}
.card__metrics .label{display:block;color:var(--color-text-2);font-size:var(--fs-12)}
.card__metrics .value{font-weight:700}

/* États carte: brouillon/publié (accentués) */
.card--draft{border-color:#ffb3ac;box-shadow:0 4px 18px rgba(229,72,77,.2);background:rgba(229,72,77,.12);border-left:6px solid #e5484d}
.card--draft:hover{box-shadow:0 12px 32px rgba(229,72,77,.3)}
.card--published{border-color:#b8e4c2;box-shadow:0 4px 18px rgba(30,127,59,.18);background:rgba(30,127,59,.12);border-left:6px solid #1e7f3b}
.card--published:hover{box-shadow:0 12px 32px rgba(30,127,59,.28)}
.meta{color:var(--color-text-2);font-size:var(--fs-12)}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-3)}
.metric{background:var(--color-surface-2);border:1px solid var(--color-border-2);border-radius:10px;padding:var(--space-3)}
.metric .label{display:block;color:var(--color-text-2);font-size:var(--fs-12)}
.metric .value{font-weight:700}
.progress{height:10px;background:var(--color-surface-2);border-radius:999px;overflow:hidden;border:1px solid var(--color-border-2)}
.progress__bar{height:100%;background:var(--color-primary);width:0;transition:width var(--dur) var(--ease), background-color var(--dur) var(--ease)}
/* Seuils de couleur pour le remplissage */
.progress__bar--ok{background:var(--color-success)}
.progress__bar--warn{background:var(--color-warning)}
.progress__bar--danger{background:var(--color-danger)}
.card__actions{display:flex;flex-wrap:wrap;gap:.5rem}
.btn--danger{background:#e5484d}
.badge{display:inline-block;border-radius:999px;padding:.15rem .6rem;font-size:12px;font-weight:800;letter-spacing:.02em;text-transform:uppercase}
.badge--draft{background:#ffe3e0;color:#a72823;border:1px solid #ffb3ac}
.badge--published{background:#dff5e6;color:#1e7f3b;border:1px solid #b8e4c2}

/* Cartes: accessibilité au clavier */
.card[tabindex]{cursor:pointer}
.card[tabindex]:focus{outline:2px solid var(--color-primary-40);outline-offset:2px}

/* Skeletons */
.skeletons .card{position:relative}
.skeleton{display:block;background:linear-gradient(90deg, var(--color-surface-2) 25%, var(--color-surface) 37%, var(--color-surface-2) 63%);background-size:400% 100%;animation:shimmer 1.2s infinite}
.skeleton.rect{height:16px;border-radius:6px}
.skeleton.title{height:20px;width:60%}
.skeleton.line{height:12px}
.skeleton.block{height:80px}
@keyframes shimmer{0%{background-position:100% 0}100%{background-position:-100% 0}}

/* Empty */
.empty{text-align:center;border:1px dashed var(--color-border-2);border-radius:12px;padding:var(--space-8);color:var(--color-text-2)}

/* Pagination */
.pagination{display:flex;align-items:center;justify-content:center;gap:var(--space-3);padding:var(--space-5) 0}

/* Toast */
.toast{position:fixed;right:16px;bottom:16px;background:var(--color-surface);border:1px solid var(--color-border-2);border-radius:12px;padding:.75rem 1rem;box-shadow:0 6px 24px rgba(0,0,0,.1)}

/* Modal (scopée au dashboard) */
#event-modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;padding:2rem;z-index:1000}
#event-modal[hidden]{display:none !important}
#event-modal .modal__dialog{background:var(--color-surface);border:1px solid var(--color-border-2);border-radius:16px;max-width:min(760px, 92vw);width:100%;box-shadow:0 16px 48px rgba(0,0,0,.2);position:relative}
#event-modal .modal__body{padding:clamp(16px,3vw,24px)}
#event-modal .modal__body h3{margin:.25rem 0 .5rem;font-size:clamp(18px,2.5vw,22px)}
#event-modal .modal__desc{margin:var(--space-3) 0;padding:var(--space-3);background:var(--color-surface-2);border:1px solid var(--color-border-2);border-radius:12px}
#event-modal .modal__grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-3);margin-top:var(--space-3)}
#event-modal .modal__actions{display:flex;gap:.5rem;margin-top:var(--space-4)}
#event-modal .modal__close{position:absolute;top:8px;right:10px;border:none;background:transparent;font-size:22px;line-height:1;cursor:pointer;color:var(--color-text-2)}
#event-modal .modal__close:hover{color:var(--color-text)}

/* Modal de confirmation de publication sur Dashboard */
#publish-modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;padding:2rem;z-index:1001}
#publish-modal[hidden]{display:none !important}
#publish-modal .modal__dialog{background:var(--color-surface);border:1px solid var(--color-border-2);border-radius:16px;max-width:min(720px, 92vw);width:100%;box-shadow:0 16px 48px rgba(0,0,0,.2);position:relative}
#publish-modal .modal__body{padding:clamp(16px,3vw,24px)}
#publish-modal .modal__actions{display:flex;gap:.5rem;margin-top:var(--space-4)}
#publish-modal .modal__close{position:absolute;top:8px;right:10px;border:none;background:transparent;font-size:22px;line-height:1;cursor:pointer;color:var(--color-text-2)}

@media (max-width: 640px){
  #event-modal .modal__grid{grid-template-columns:1fr}
}
